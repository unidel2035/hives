{"baseRefName":"main","body":"This PR addresses issue #719 by:\n\n- Handling usage-limit outcomes for Claude, Codex, and OpenCode by surfacing a dedicated PR comment with reset time and resume instructions when `--attach-logs` is used.\n- Ensuring the run is marked as failed so status reflects the failure rather than success.\n- Adding a case study with analysis under `docs/case-studies/issue-719/` and `docs/case-studies/issue-719-usage-limit/`.\n\nKey changes:\n- `src/solve.mjs`: Pass `isUsageLimit`, `limitResetTime`, `toolName`, and `resumeCommand` to `attachLogToGitHub` when a tool run fails due to usage limit; fall back to generic failure template otherwise.\n- `src/github.lib.mjs`: Dedicated \"Usage Limit Reached\" comment format incl. reset time, session ID, resume instructions, and optional attached logs.\n- `src/claude.lib.mjs`, `src/codex.lib.mjs`, `src/opencode.lib.mjs`: Robust usage-limit detection with reset time extraction and clear console messaging.\n- `src/solve.validation.lib.mjs`: Accepts reset time formats with or without space before AM/PM (e.g., `12:16 PM` or `12:16PM`) to support auto-continue.\n\nCase study:\n- Overview and analysis: `docs/case-studies/issue-719-usage-limit/00-OVERVIEW.md`\n- Evidence and timeline: `docs/case-studies/issue-719-usage-limit/03-EVIDENCE.md`\n- Referenced logs: `docs/case-studies/issue-719/comment-3521528245.md` and JSON sources.\n\nAdditional notes:\n- Added `experiments/parse-reset-time.mjs` to validate time parsing for auto-continue logic.\n\nFixes #719\n","changedFiles":236,"commits":[{"authoredDate":"2025-11-13T04:01:10Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:01:10Z","messageBody":"Adding CLAUDE.md with task information for AI processing.\nThis file will be removed when the task is complete.\n\nIssue: https://github.com/deep-assistant/hive-mind/issues/719","messageHeadline":"Initial commit with task details for issue #719","oid":"33e31b46878c9829a523979c7ef8c91beea048f7"},{"authoredDate":"2025-11-13T04:04:18Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:04:18Z","messageBody":"… issue #719\\n\\n- When tool run fails due to usage limit, attach PR comment using dedicated usage-limit template with reset time + resume command\\n- Preserve non-zero exit for clear failure signaling\\n- Add docs/case-studies/issue-719 with referenced logs and analysis","messageHeadline":"feat: proper usage-limit handling for PR comments; add case study for…","oid":"5e21cf3702d8b04583a0805bd084c02fb47e1413"},{"authoredDate":"2025-11-13T04:04:40Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:04:40Z","messageBody":"This reverts commit 33e31b46878c9829a523979c7ef8c91beea048f7.","messageHeadline":"Revert \"Initial commit with task details for issue #719\"","oid":"fe8043d6ecd64fdbe045a35b09fdb55618b5982b"},{"authoredDate":"2025-11-13T04:07:29Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:07:29Z","messageBody":"…sses issue #719 weekly limit handling PR by ensuring CI passes\\n- No code changes beyond version bump","messageHeadline":"chore: bump version to 0.33.4 (fix CI verify-version-bump)\\n\\n- Addre…","oid":"97aea4dd97ef70d5ade9a760f301ad789aa5b9c4"},{"authoredDate":"2025-11-13T04:09:03Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:09:03Z","messageBody":"…ing (issue #719)","messageHeadline":"fix: set global.limitResetTime from tool result for usage limit handl…","oid":"dd81ea93544facbe8a7c09c331bb5ad0b24c57f1"},{"authoredDate":"2025-11-13T04:13:50Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:13:50Z","messageBody":"…propagate in hive -\u003e solve and log command (issue #719)","messageHeadline":"fix(cli): accept --skip-claude-check as alias for --skip-tool-check; …","oid":"f0f83ec39374be48b53c4fcd596c90047048d0d1"},{"authoredDate":"2025-11-13T04:17:14Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:17:14Z","messageBody":"…failure logs\n\n- Treat isUsageLimit as primary condition in attachLogToGitHub so usage-limit comments render even without generic errorMessage\n- Pass sessionId to attachLogToGitHub in failure path to include it in the PR comment\n- Preserve existing generic failure formatting for non-usage-limit cases\n\nRefs #719","messageHeadline":"fix: properly format usage limit PR comment and include sessionId in …","oid":"7c17442218cf67b05736b81aba33e87db7d5de56"},{"authoredDate":"2025-11-13T04:20:51Z","authors":[{"email":"actions@users.noreply.github.com","id":"","login":"","name":"AI Issue Solver"}],"committedDate":"2025-11-13T04:20:51Z","messageBody":"","messageHeadline":"docs(case-study/719): add evidence and timeline; fix PR link to #722","oid":"42c9e440a2b67d80cba085d6da876b2e3bee0c84"},{"authoredDate":"2025-11-13T04:24:07Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:24:07Z","messageBody":"…ents across tools; add case study artifacts; bump version to 0.33.5 (Fixes #719)","messageHeadline":"feat(usage-limit): handle usage limit as failure with reset-time comm…","oid":"9df04d9119a7a55213403b5ed69b2cc0df286fda"},{"authoredDate":"2025-11-13T04:27:15Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:27:15Z","messageBody":"…(usage-limit auto-continue)\\n\\n- Update parseResetTime to handle formats like '12:16 PM'\\n- Add experiment script experiments/parse-reset-time.mjs to validate parsing\\n\\nRefs #719","messageHeadline":"fix(validation): accept reset times with optional space before AM/PM …","oid":"4262e0873e11c580f7e0f9f8e5a85d7c751c1bd5"},{"authoredDate":"2025-11-13T04:34:10Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:34:10Z","messageBody":"…g (PR 722, Fixes #719)","messageHeadline":"fix(github): always use usage-limit gist comment when comment too lon…","oid":"419e64bc6c6ac88b8660d2cd44dba0dd2a833f4e"},{"authoredDate":"2025-11-13T04:51:15Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T04:51:15Z","messageBody":"…o script","messageHeadline":"docs(case-study-719): add index, logs, and timeline + usage-limit dem…","oid":"1550f7151fdfd7cc7a1c63d3ed833f674420bc69"},{"authoredDate":"2025-11-13T05:16:37Z","authors":[{"email":"drakonard@gmail.com","id":"MDQ6VXNlcjE0MzE5MDQ=","login":"konard","name":"konard"}],"committedDate":"2025-11-13T05:16:37Z","messageBody":"…eset time\\n\\n- Recognize messages like ‘Weekly limit reached ∙ resets 5am’\\n- Extract reset time from ‘resets 5am/5:00am’ and 24h forms\\n- Normalize to HH:MM AM/PM for auto-continue\\n- Extend parseResetTime to accept ‘5am’ without minutes\\n- Add small experiments for detection and parsing","messageHeadline":"fix(usage-limit): detect Claude weekly limit phrasing and normalize r…","oid":"8d356a2f3eb25758d1a5208045e9ba88fe925b52"}],"headRefName":"issue-719-a653aae7d4d5","headRepository":{"id":"R_kgDOPUU0qQ","name":"hive-mind","nameWithOwner":""},"headRepositoryOwner":{"id":"O_kgDOC9Vb7A","login":"deep-assistant"},"isDraft":false,"number":722,"state":"OPEN","statusCheckRollup":[{"__typename":"CheckRun","completedAt":"2025-11-13T05:16:52Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263323388","name":"detect-changes","startedAt":"2025-11-13T05:16:45Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:16:51Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263323366","name":"verify-version-bump","startedAt":"2025-11-13T05:16:45Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:17:01Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263329377","name":"test-compilation","startedAt":"2025-11-13T05:16:54Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:17:07Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263329376","name":"lint","startedAt":"2025-11-13T05:16:53Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:17:01Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263329383","name":"check-file-line-limits","startedAt":"2025-11-13T05:16:54Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:17:02Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263329388","name":"validate-docs","startedAt":"2025-11-13T05:16:53Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:21:04Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263336838","name":"test-suites","startedAt":"2025-11-13T05:17:05Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:19:06Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263336845","name":"test-execution","startedAt":"2025-11-13T05:17:06Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:17:40Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263336839","name":"memory-check-linux","startedAt":"2025-11-13T05:17:04Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:17:01Z","conclusion":"SKIPPED","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263336853","name":"memory-check-macos","startedAt":"2025-11-13T05:17:01Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:17:01Z","conclusion":"SKIPPED","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263336877","name":"memory-check-windows","startedAt":"2025-11-13T05:17:01Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"},{"__typename":"CheckRun","completedAt":"2025-11-13T05:21:17Z","conclusion":"SUCCESS","detailsUrl":"https://github.com/deep-assistant/hive-mind/actions/runs/19321355924/job/55263530178","name":"publish","startedAt":"2025-11-13T05:21:10Z","status":"COMPLETED","workflowName":"CI/CD Pipeline for main branch"}],"title":"feat(usage-limit): handle limits across tools + reset-time comments (Fixes #719)"}
